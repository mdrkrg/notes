---
tags:
  - DataScience
  - SJTU-Statistics
---
1.3 条件概率
===
## 条件概率
设 A, B 为两事件, P(A)>0, ，则事件 A 发生的条件下事件 B 发生的条件概率为
$$P(B\,|\,A) = \frac{P(AB)}{P(A)}$$
### 性质
与概率性质相同
- 非负性
- 归一型
- 可列可加性
- ...

### 与无条件概率关系
一般无确定关系

当 $B\subset A$
$$P(B\,|\,A) = \frac{P(AB)}{P(A)} = \frac{P(B)}{P(A)}\ge P(B)$$

## 乘法公式
利用条件概率求积事件的概率
$$\begin{align}P(AB) &= P(A)\,P(B\,|\,A)\quad(P(A)>0)\\
&=P(B)\,P(A\,|\,B)\quad(P(B)>0)\end{align}$$

推广
$$P(A_1A_2\cdots A_n) = P(A_1)\,P(A_2\,|\,A_1)\cdots P(A_n\,|\,A_1A_2\cdots A_{n-1})\quad(P(A_1A_2\cdots A_{n-1})>0)$$

## 全概率公式
若事件 $B_1, B_2,\cdots, B_n$ 满足
$$\bigcup_{i=1}^nB_i = \mathit \Omega, B_iB_j = \varnothing$$
称上述事件组为**完备事件组**, 或样本空间 $\it \Omega$ 的一个**划分**

若事件 $A$ 落在样本空间内, 与划分中的任意一个 $B_i$ 都有可能有交集, 则事件 $A$ 的概率与划分有关
$$A = \bigcup_{i=1}^nAB_i,(AB_i)(AB_j) = \varnothing$$
则 $P(A)$ 的概率可由全概率公式给出
**全概率公式**
$$P(A) = \sum_{i=1}^n P(AB_i) = \sum_{i=1}^n P(B_i)\cdot P(A\,|\,B_i)$$
- 对于 $A$ 的全体的概率被分解为多个部分之和
- 实用意义: 直接计算 $P(A)$ 较复杂, 但 $A$ 总是伴随某个 $B_i$ 出现, 构造划分简化计算
- 另一角度理解: 事件 $A$ 的发生由原因 $B_i$ 引起, 则 $P(AB_i) = P(B_i)\,P(A\,|\, B_i)$, 事件 $A$ 的全体为所有原因的总和

## Bayes 公式
> 求条件概率: *已知结果求原因*
> 某人从任一箱中任意摸出一球, 发现是红球, 求该球取自一号箱的概率. (该求取自哪号箱的可能性最大?)

观察到事件 $A$ 已发生的条件下, 寻找导致 $A$ 发生的每个原因的概率, 可由 Bayes 公式求出
**Bayes 公式**
$$\begin{align}P(B_k\,|\,A) = \dfrac{P(AB_k)}{P(A)} &= \dfrac{P(B_k)\,P(A\,|\,B_k)}{P(A)} \\\\&= \dfrac{P(B_k)\,P(A\,|\,B_k)}{\displaystyle\sum\limits_{i=1}^nP(B_i)\,P(A\,|\,B_i)}\end{align}$$
- $P(B_i)$ 先验概率
	- 由以往经验得到
- $P(B_i\,|\,A)$ 后验概率
	- 得到信息: $A$ 发生的概率后, 对 $A$ 发生的原因的可能性大小进行修正
